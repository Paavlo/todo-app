{"version":3,"sources":["components/AddTodo/AddTodo.jsx","components/Todo/Todo.jsx","components/TodoList/TodoList.jsx","components/TodosFilter/TodosFilter.jsx","App.js","index.js"],"names":["AddTodo","sendTodo","useState","todoTitle","enterTodoTitle","onSubmit","event","preventDefault","trim","length","id","Date","title","completed","type","className","placeholder","value","onChange","target","Todo","todo","changeProperty","editTitleTools","todoEdited","changeStatusEdit","todosTools","todos","updateTodos","deleteTodo","todoId","updatedTodos","filter","item","localStorage","clear","confirmChanges","checked","onDoubleClick","onClick","autoFocus","defaultValue","onBlur","onKeyDown","key","keyPressed","TodoList","map","ClassNames","editing","TodosFilter","todoTools","FILTER_OPT","all","active","selectedFilter","selectFilter","todosLeft","changeFilter","filterType","href","selected","hidden","some","App","useEffect","getItem","JSON","parse","filteredTodos","FILTER","useMemo","filterBy","setItem","stringify","newTodo","every","htmlFor","property","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.23dee679.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const AddTodo = ({ sendTodo }) => {\n  const [todoTitle, enterTodoTitle] = useState('');\n\n  return (\n    <form\n      onSubmit={(event) => {\n        event.preventDefault();\n        if (todoTitle.trim().length <= 0) {\n          return;\n        }\n\n        sendTodo({\n          id: +new Date(),\n          title: todoTitle.trim(),\n          completed: false,\n        });\n\n        enterTodoTitle('');\n      }}\n    >\n      <input\n        type=\"text\"\n        className=\"new-todo\"\n        placeholder=\"What needs to be done?\"\n        value={todoTitle}\n        onChange={({ target }) => {\n          enterTodoTitle(target.value);\n        }}\n      />\n    </form>\n  );\n};\n\nAddTodo.propTypes = {\n  sendTodo: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Todo = ({\n  todo: { id, title, completed },\n  changeProperty,\n  editTitleTools: [todoEdited, changeStatusEdit],\n  todosTools: { todos, updateTodos },\n}) => {\n  const deleteTodo = (todoId) => {\n    const updatedTodos = todos.filter(item => item.id !== todoId);\n\n    updateTodos(updatedTodos);\n    localStorage.clear('todos');\n  };\n\n  const confirmChanges = (target) => {\n    if (target.length === 0) {\n      return deleteTodo(id);\n    }\n\n    changeProperty(id, target);\n\n    return changeStatusEdit(null);\n  };\n\n  const keyPressed = (key, target) => {\n    switch (key) {\n      case 'Enter':\n        confirmChanges(target);\n        break;\n\n      case 'Escape':\n        changeStatusEdit(null);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return (\n    <>\n      <div\n        className=\"view\"\n      >\n        <input\n          type=\"checkbox\"\n          className=\"toggle\"\n          checked={completed}\n          onChange={() => {\n            changeProperty(id);\n          }}\n        />\n        <label onDoubleClick={(event) => {\n          event.preventDefault();\n          changeStatusEdit(id);\n        }}\n        >\n          {title}\n        </label>\n        <button\n          type=\"button\"\n          className=\"destroy\"\n          onClick={() => {\n            deleteTodo(id);\n          }}\n        />\n      </div>\n      {\n        todoEdited === id\n        && (\n          <input\n            type=\"text\"\n            className=\"edit\"\n            autoFocus\n            defaultValue={title}\n            onBlur={({ target }) => {\n              confirmChanges(target.defaultValue);\n            }}\n            onKeyDown={({ key, target }) => {\n              keyPressed(key, target.value.trim());\n            }}\n          />\n        )\n      }\n    </>\n  );\n};\n\nTodo.propTypes = {\n  todo: PropTypes.objectOf(PropTypes.any).isRequired,\n  changeProperty: PropTypes.func.isRequired,\n  editTitleTools: PropTypes.arrayOf(PropTypes.any).isRequired,\n  todosTools: PropTypes.shape({\n    todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n    updateTodos: PropTypes.func.isRequired,\n  }).isRequired,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport ClassNames from 'classnames';\nimport { Todo } from '../Todo';\n\nexport const TodoList = ({ changeProperty, todosTools, todos }) => {\n  const [todoEdited, changeStatusEdit] = useState(null);\n\n  return (\n    <ul className=\"todo-list\">\n      {\n        todos.map(todo => (\n          <li\n            key={todo.id}\n            className={ClassNames(\n              { completed: todo.completed },\n              { editing: todoEdited === todo.id },\n            )}\n          >\n            <Todo\n              todo={{ ...todo }}\n              changeProperty={changeProperty}\n              editTitleTools={[todoEdited, changeStatusEdit]}\n              todosTools={todosTools}\n            />\n          </li>\n        ))\n      }\n    </ul>\n  );\n};\n\nTodoList.propTypes = {\n  changeProperty: PropTypes.func.isRequired,\n  todosTools: PropTypes.objectOf(PropTypes.any).isRequired,\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ClassNames from 'classnames';\n\nexport const TodosFilter = ({\n  todoTools,\n  filter,\n  FILTER_OPT: { all, active, completed },\n  selectedFilter,\n  selectFilter,\n}) => {\n  const { todos, updateTodos } = todoTools;\n  const todosLeft = todos.filter(todo => !todo.completed).length;\n\n  const changeFilter = (filterType) => {\n    selectFilter(filterType);\n    filter(filterType);\n  };\n\n  return (\n    <>\n      <span className=\"todo-count\">\n        {`${todosLeft} ${todosLeft !== 1 ? 'items' : 'item'} left`}\n      </span>\n\n      <ul className=\"filters\">\n        <li>\n          <a\n            href={`#/${all}`}\n            className={ClassNames(\n              { selected: selectedFilter === all },\n            )}\n            type=\"button\"\n            onClick={() => {\n              changeFilter(all);\n            }}\n          >\n            All\n          </a>\n        </li>\n\n        <li>\n          <a\n            href={`#/${active}`}\n            className={ClassNames(\n              { selected: selectedFilter === active },\n            )}\n            type=\"button\"\n            onClick={() => {\n              changeFilter(active);\n            }}\n          >\n            Active\n          </a>\n        </li>\n\n        <li>\n          <a\n            href={`#/${completed}`}\n            className={ClassNames(\n              { selected: selectedFilter === completed },\n            )}\n            type=\"button\"\n            onClick={() => {\n              changeFilter(completed);\n            }}\n          >\n            Completed\n          </a>\n        </li>\n      </ul>\n\n      <button\n        hidden={!todos.some(todo => todo.completed)}\n        type=\"button\"\n        className=\"clear-completed\"\n        onClick={() => {\n          updateTodos(\n            todos.filter(todo => !todo.completed),\n          );\n        }}\n      >\n        Clear completed\n      </button>\n    </>\n  );\n};\n\nTodosFilter.propTypes = {\n  todoTools: PropTypes.shape({\n    todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n    updateTodos: PropTypes.func.isRequired,\n  }).isRequired,\n  filter: PropTypes.func.isRequired,\n  FILTER_OPT: PropTypes.objectOf(PropTypes.string).isRequired,\n  selectedFilter: PropTypes.string.isRequired,\n  selectFilter: PropTypes.func.isRequired,\n};\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { AddTodo } from './components/AddTodo';\nimport { TodoList } from './components/TodoList';\nimport { TodosFilter } from './components/TodosFilter';\n\nfunction App() {\n  const [todos, updateTodos] = useState([]);\n\n  useEffect(() => {\n    if (localStorage.getItem('todos')) {\n      updateTodos(\n        JSON.parse(localStorage.getItem('todos')),\n      );\n    }\n  }, []);\n\n  let filteredTodos = [...todos];\n\n  const FILTER = {\n    all: 'All',\n    active: 'Active',\n    completed: 'Completed',\n  };\n  const [selectedFilter, selectFilter] = useState(FILTER.all);\n\n  useMemo(() => filter(selectedFilter), [selectedFilter, todos]);\n\n  const todoTools = {\n    todos,\n    updateTodos,\n  };\n\n  useEffect(() => {\n    localStorage.setItem('todos', JSON.stringify(todos));\n  }, [todos]);\n\n  function filter(filterBy) {\n    switch (filterBy) {\n      case FILTER.active:\n        filteredTodos = filteredTodos.filter(todo => !todo.completed);\n        break;\n      case FILTER.completed:\n        filteredTodos = filteredTodos.filter(todo => todo.completed);\n        break;\n      default:\n        filteredTodos = [...todos];\n        break;\n    }\n  }\n\n  function changeProperty(todoId, property) {\n    updateTodos(\n      todos.map((todo) => {\n        if (todo.id !== todoId) {\n          return todo;\n        }\n\n        if (property) {\n          return {\n            ...todo, title: property,\n          };\n        }\n\n        if (!property) {\n          return {\n            ...todo, completed: !todo.completed,\n          };\n        }\n\n        return todo;\n      }),\n    );\n  }\n\n  function receiveTodo(newTodo) {\n    updateTodos([\n      newTodo,\n      ...todos,\n    ]);\n  }\n\n  return (\n    <section className=\"todoapp\">\n      <header className=\"header\">\n        <h1>todos App</h1>\n\n        <AddTodo\n          sendTodo={receiveTodo}\n        />\n      </header>\n\n      {todos.length > 0\n      && (\n        <section className=\"main\">\n          <input\n            type=\"checkbox\"\n            id=\"toggle-all\"\n            className=\"toggle-all\"\n            checked={todos.every(todo => todo.completed)}\n            onChange={({ target }) => {\n              updateTodos(\n                todos.map((todo) => {\n                  if (todo.completed === target.checked) {\n                    return todo;\n                  }\n\n                  return { ...todo, completed: !todo.completed };\n                }),\n              );\n            }}\n          />\n          <label htmlFor=\"toggle-all\">Mark all as complete</label>\n\n          <TodoList\n            changeProperty={changeProperty}\n            todosTools={todoTools}\n            todos={filteredTodos}\n          />\n        </section>\n      )\n      }\n      {todos.length > 0\n      && (\n        <footer className=\"footer\">\n          <TodosFilter\n            todoTools={todoTools}\n            filter={filter}\n            FILTER_OPT={{ ...FILTER }}\n            selectedFilter={selectedFilter}\n            selectFilter={selectFilter}\n          />\n        </footer>\n      )}\n    </section>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}